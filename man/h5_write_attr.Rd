% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/write_attr.r
\name{h5_write_attr}
\alias{h5_write_attr}
\title{Write an Attribute to HDF5}
\usage{
h5_write_attr(file, name, attribute, data, dtype = "auto")
}
\arguments{
\item{file}{Path to the HDF5 file.}

\item{name}{Name of the object to attach the attribute to (e.g., "/data").}

\item{attribute}{The name of the attribute to create.}

\item{data}{The R object to write. Supported: \code{numeric}, \code{integer},
\code{logical}, \code{character}, \code{raw}, and \code{data.frame}.}

\item{dtype}{The target HDF5 data type. Defaults to \code{typeof(data)}.}
}
\value{
Invisibly returns \code{NULL}. This function is called for its side effects.
}
\description{
Writes an R object as an attribute to an existing HDF5 object.
}
\details{
The \code{dtype} argument controls the on-disk storage type \strong{for numeric
data only}.

If \code{dtype} is set to \code{"auto"} (the default), \code{h5lite} will automatically
select the most space-efficient type for numeric data that can safely
represent the full range of values. For example, writing \code{1:100} will
result in an 8-bit unsigned integer (\code{uint8}) attribute.

To override this for numeric data, you can specify an exact type. The input
is case-insensitive and allows for unambiguous partial matching. The full
list of supported values is:
\itemize{
\item \code{"auto"}, \code{"float"}, \code{"double"}
\item \code{"float16"}, \code{"float32"}, \code{"float64"}
\item \code{"int8"}, \code{"int16"}, \code{"int32"}, \code{"int64"}
\item \code{"uint8"}, \code{"uint16"}, \code{"uint32"}, \code{"uint64"}
\item \code{"char"}, \code{"short"}, \code{"int"}, \code{"long"}, \code{"llong"}
\item \code{"uchar"}, \code{"ushort"}, \code{"uint"}, \code{"ulong"}, \code{"ullong"}
}

Note: Types without a bit-width suffix (e.g., \code{"int"}, \code{"long"}) are system-
dependent and may have different sizes on different machines. For maximum file
portability, it is recommended to use types with explicit widths (e.g., \code{"int32"}).

For non-numeric data (\code{character}, \code{factor}, \code{raw}, \code{logical}), the storage
type is determined automatically and \strong{cannot be changed} by the \code{dtype}
argument. R \code{logical} vectors are stored as 8-bit unsigned integers (\code{uint8}),
as HDF5 does not have a native boolean datatype.

\code{data.frame} objects are written as HDF5 \strong{compound attributes}, a native
table-like structure.

To write a scalar attribute, wrap the value in \code{I()} (e.g., \code{I("meters")}).
Otherwise, dimensions are inferred automatically.
}
\examples{
file <- tempfile(fileext = ".h5")

# First, create an object to attach attributes to
h5_write(file, "my_data", 1:10, compress = FALSE)

# Write a scalar string attribute
h5_write_attr(file, "my_data", "units", I("meters"))

# Write a numeric vector attribute
h5_write_attr(file, "my_data", "range", c(0, 100))

# List attributes to confirm they were written
h5_ls_attr(file, "my_data")

unlink(file)
}
\seealso{
\code{\link[=h5_write]{h5_write()}}, \code{\link[=h5_read_attr]{h5_read_attr()}}
}
